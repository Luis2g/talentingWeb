<!DOCTYPE html>
<html lang="en" ng-app="talenting" >
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/bootstrap.min.css" >
    <link rel="icon" href="./img/Isotipo-V3.png">
    <title>Talenting</title>
</head>
<body ng-controller="userController" >

    <style>
        .btn-register{
            background-color: #4e718c;
            color: white;
            font-size: 18px;
            font-weight: 600;
        }
        .btn-register:hover{
            background-color: white ;
            color: #4e718c;
            border-color: #4e718c;
            border: 1px solid;
        }
        .btn-danger{
            font-size: 18px;
            font-weight: 600;
        }
        .btn-danger:hover{
            background-color: white;
            color: #dc3445;
            border: 1px solid;
        }
    </style>
    <div ng-form="userRegistration" >
        <div class="container">

            <div class="mt-5" >
                <a href="/#!/landingPage" class="btn btn-outline-warning" >Regresar a la vista principal</a>
            </div>


            <div class="row justify-content-center align-items-center">
                <!-- col-xl-4 col-lg-4 col-md-6 col-sm-8 col-10 -->
                <div class="col-12">
                    <div class="jumbotron jumbotron-fluid">
                        <div class="container">
                            <p class="justify-content-center text-start display-5" style="color: #4e718c; margin-top: 10px; margin-bottom: 10px;">Registro</p>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <div class="text-center mb-4" style="margin-top: 10%;"><img src="../img/Logo-V1.png" alt="" class="text-center " width="150px" height="150px"></div>
                </div>
                <div class="col-9">
                    <div class="row">
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="name"
                                    name="name"
                                    class="form-control mt-2"
                                    ng-model="person.name"
                                    type="text"
                                    placeholder=" "
                                    required
                                >
                                <label for="name">Nombre(s)</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.name.$error.required && userRegistration.name.$touched || userRegistration.name.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="surname"
                                    name="surname"
                                    class="form-control mt-2" 
                                    ng-model="person.surname"
                                    type="text"
                                    placeholder=" "
                                    required
                                >
                                <label for="surname">Primer apellido</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.surname.$error.required && userRegistration.surname.$touched || userRegistration.surname.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="secondSurname"
                                    name="secondSurname"
                                    class="form-control mt-2"
                                    ng-model="person.secondSurname"
                                    type="text"
                                    placeholder=" "
                                    required
                                >
                                <label for="secondSurname">Segundo apellido</label>
                            </div>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="email"
                                    name="email"
                                    class="form-control mt-2"
                                    ng-model="contactInformation.email"
                                    type="email"
                                    placeholder=" "
                                    required
                                >
                                <label for="email">Correo</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.email.$error.required && userRegistration.email.$touched || userRegistration.email.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="dateOfBirth"
                                    name="dateOfBirth"
                                    class="form-control mt-2"
                                    placeholder=" "
                                    ng-model="person.dateOfBirth"
                                    type="date"
                                    required
                                >
                                <label for="dateBirth">Fecha de nacimiento</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.dateOfBirth.$error.required && userRegistration.dateOfBirth.$touched || userRegistration.dateOfBirth.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="phoneNumber"
                                    name="phoneNumber"
                                    class="phone-mask form-control mt-2"
                                    placeholder="( ___ ) - ___ - __ - __"
                                    ng-model="contactInformation.phoneNumber"
                                    type="text"
                                    required
                                >
                                <label for="phoneNumber">Telefono</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.phoneNumber.$error.required && userRegistration.phoneNumber.$touched || userRegistration.phoneNumber.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12">
                            <div class="form-floating mb-3">
                                <select
                                    id="state"
                                    name="state"
                                    class="form-control mt-2"
                                    ng-model="contactInformation.state"
                                    ng-options="state.estado as state.estado for state in states track by state.clave"
                                    required
                                >
                                    <option value="" selected >Seleccione...</option>
                                </select>
                                <label for="state">Estado en el que radica</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.state.$error.required && userRegistration.state.$touched || userRegistration.state.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="password"
                                    name="password"
                                    class="form-control mt-2"
                                    ng-change="validPassword()"
                                    placeholder=" "
                                    ng-model="user.password"
                                    type="password"
                                    required
                                >
                                <label for="password">Contraseña</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.password.$error.required && userRegistration.password.$touched || userRegistration.password.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="passwordConfirmation"
                                    name="passwordConfirmation"
                                    class="form-control mt-2"
                                    ng-change="validPassword()"
                                    placeholder=" "
                                    ng-model="frontVariables.passwordConfirmation"
                                    type="password"
                                    required
                                >
                                <label for="passwordConfirmation">Confirmar contraseña</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.passwordConfirmation.$error.required && userRegistration.passwordConfirmation.$touched || userRegistration.passwordConfirmation.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="!frontVariables.isValidTheConfirmationPassword && userRegistration.passwordConfirmation.$touched"
                            >
                                La contraseña no coincide
                            </span>
                        </div>
                        <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12">
                            <div class="form-floating mb-3">
                                <input
                                    id="username"
                                    name="username"
                                    class="form-control mt-2"
                                    placeholder=" "
                                    ng-model="user.username"
                                    type="text"
                                    required
                                >
                                <label for="username">Nombre de usuario</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.username.$error.required && userRegistration.username.$touched || userRegistration.username.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
                        <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <label >Rol</label>
                            <div>
                                <input
                                    id="employeer"
                                    name="userType"
                                    ng-model="user.role"
                                    type="radio"
                                    value="employeer"
                                    required
                                >
                                <label for="employeer" >Empleador</label>
                            </div>
                            <div>
                                <input
                                    id="employee"
                                    name="userType"
                                    ng-model="user.role"
                                    type="radio"
                                    value="employee"
                                    required
                                >
                                <label for="employee" >Aplicante</label>
                            </div>
                            <span 
                                style="color: red; margin-top: 0px;"
                                ng-show="userRegistration.userType.$error.required && userRegistration.userType.$touched || userRegistration.userType.$error.required && frontVariables.invalidForm"
                            >
                                Este campo es obligatorio
                            </span>
                        </div>
        
        
                        <div class="row col-12 mt-5" ng-if="user.role === 'employeer'" >
        
                            <div class="col-12">
                                <div class="jumbotron jumbotron-fluid">
                                    <div class="container">
                                        <p class="justify-content-center text-start display-5" style="color: #4e718c; margin-top: 10px; margin-bottom: 10px;">
                                            Información de la empresa
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <hr>
        
                            <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="form-floating mb-3" >
                                    <input
                                        id="companyName"
                                        name="companyName"
                                        class="form-control mt-2"
                                        placeholder=" "
                                        ng-model="employeer.companyName"
                                        type="text"
                                        required
                                    >
                                    <label for="companyName" >Nombre de la compañia</label>
                                    <span 
                                        style="color: red; margin-top: 0px;"
                                        ng-show="userRegistration.companyName.$error.required && userRegistration.companyName.$touched || userRegistration.companyName.$error.required && frontVariables.invalidForm"
                                    >
                                        Este campo es obligatorio
                                    </span>
                                </div>
                            </div>
                            <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="form-floating mb-3" >
                                    <input
                                        id="rolInCompany"
                                        name="rolInCompany"
                                        class="form-control mt-2"
                                        placeholder=" "
                                        ng-model="employeer.rolInCompany"
                                        type="text"
                                        required
                                    >
                                    <label>¿Qué rol funge en la empresa?</label>
                                    <span 
                                        style="color: red; margin-top: 0px;"
                                        ng-show="userRegistration.rolInCompany.$error.required && userRegistration.rolInCompany.$touched || userRegistration.rolInCompany.$error.required && frontVariables.invalidForm"
                                    >
                                        Este campo es obligatorio
                                    </span>
                                </div>
                            </div>
                            <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                <div class="form-floating mb-3">
                                    <select
                                            id="companyState"
                                            name="companyState"
                                            class="form-control"
                                            ng-model="employeer.stateTheCompanyIsIn"
                                            ng-options="state.estado as state.estado for state in states track by state.clave"
                                            required
                                        >
                                        <option value="" selected >Seleccione...</option>
                                    </select>
                                    <label>Estado donde se encuentra la compañia</label>
                                    <span 
                                        style="color: red; margin-top: 0px;"
                                        ng-show="userRegistration.companyState.$error.required && userRegistration.companyState.$touched || userRegistration.companyState.$error.required && frontVariables.invalidForm"
                                    >
                                        Este campo es obligatorio
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        
                        <!-- <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12">
                            <div class="form-floating mb-3 mt-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        Estoy de acuerdo
                                    </label>
                                </div>
                            </div>
                        </div> -->
        
                    </div>
                </div>
                
                <div class="justify-content-end text-end">
                    <a href="/login" class="btn btn-danger pt-2 pe-4 ps-4 pb-2">Cancelar</a>
                    <button 
                        type="button" 
                        ng-click="registerUser()" 
                        ng-if="userRegistration.$valid && frontVariables.isValidTheConfirmationPassword"
                        class="btn btn-register pt-2 pe-4 ps-4 pb-2"
                    >
                        Registrar
                    </button>
                    <button 
                        type="button" 
                        ng-click="showAlert()" 
                        ng-if="userRegistration.$invalid || !frontVariables.isValidTheConfirmationPassword "
                        class="btn btn-register pt-2 pe-4 ps-4 pb-2"
                    >
                        Registrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/imports/bootstrap.bundle.min.js" ></script>
    <script src="/js/imports/angular.min.js" ></script>
    <script src="/js/imports/angular-route.min.js" ></script>
    <script src="/js/imports/angular-cookies.min.js" ></script>
    <script src="/js/app.js" ></script>
    <script src="/js/services/userService.js" ></script>
    <script src="/js/services/alertService.js" ></script>
    <script src="/js/controllers/userController.js" ></script>
    <script src="/js/controllers/vacancyController.js" ></script>
    <script src="/js/controllers/navbarController.js" ></script>
    <script src="/js/controllers/sessionController.js" ></script>
    <script src="/js/imports/jquery-3.6.0.min.js" ></script>
    <script src="/js/imports/jquery.mask.min.js" ></script>
    <script src="/js/imports/sweetalert2@11.js" ></script>

</body>
</html>